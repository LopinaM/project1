"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[0],{9e3:(s,e,t)=>{t.r(e),t.d(e,{default:()=>M,withRouter:()=>F});var o=t(2791),i=t(4420),r=t(6070);const n="MyPosts_postsBlock__lB-pf",l="MyPosts_posts__GSiZ2",a={item:"Post_item__yucwS"};var c=t(184);const d=function(s){return(0,c.jsx)("div",{className:a.posts,children:(0,c.jsxs)("div",{className:a.item,children:[(0,c.jsx)("img",{src:"https://cdn121.picsart.com/212677724003202.jpg"}),s.message,(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{children:"like"}),s.likesCount]})]})})};var u=t(6139),h=t(704),p=t(5304),x=t(9086);const f=(0,p.D)(10),j=(0,h.Z)({form:"ProfileAddNewPostForm"})((s=>(0,c.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,c.jsx)(u.Z,{component:x.gx,name:"newPostText",placeholder:"Post message",validate:[p.l,f]}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Add Post"})})]})));const m=function(s){console.log("RENDER YO");let e=s.postData.map((s=>(0,c.jsx)(d,{message:s.message,likesCount:s.likesCount},s.id)));return(0,c.jsxs)("div",{className:n,children:[(0,c.jsx)("h3",{children:"my posts"}),(0,c.jsx)(j,{onSubmit:e=>{s.addPost(e.newPostText)}}),(0,c.jsx)("div",{className:l,children:e})]})};const v=(0,i.$j)((s=>({postData:s.profilePage.postData,newPostText:s.profilePage.newPostText})),(s=>({addPost:e=>{s((0,r.Wl)(e))}})))(m),P={};var g=t(1760);const b={img:"ProfileInfo_img__+4bLE",descriphionBlock:"ProfileInfo_descriphionBlock__9oI37",descriphionBlock2:"ProfileInfo_descriphionBlock2__exHYx",mainPhoto:"ProfileInfo_mainPhoto__QU8TO",contact:"ProfileInfo_contact__sQB8W"},k=s=>{const[e,t]=(0,o.useState)(!1),[i,r]=(0,o.useState)(s.status);(0,o.useEffect)((()=>{r(s.status)}),[s.status]);return(0,c.jsx)("div",{children:e?(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:s=>{r(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{t(!1),s.updateStatus(i)},value:i})}):(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Status: "})," ",(0,c.jsx)("span",{onDoubleClick:()=>{t(!0)},children:i||"-------"})]})})};var _=t(8478),S=t(9234);const I=(0,h.Z)({form:"edit-profile"})((s=>{let{handleSubmit:e,profile:t,error:o}=s;return(0,c.jsxs)("form",{onSubmit:e,children:[(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"save"})}),o&&(0,c.jsx)("div",{className:S.Z.formSummaryError,children:o}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Full name"}),": ",(0,x.Gr)("Full name","fullName",[],x.II)]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Looking for a job"}),": ",(0,x.Gr)("","lookingForAJob",[],x.II,{type:"checkbox"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"My professional skills"}),":",(0,x.Gr)("My professional skills","lookingForAJobDescription",[],x.gx)]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"About me"}),":",(0,x.Gr)("About me","aboutMe",[],x.gx)]})]})}));const w=s=>{let{profile:e,isOwner:t,goToEditMode:o}=s;return(0,c.jsxs)("div",{children:[t&&(0,c.jsx)("div",{children:(0,c.jsx)("button",{onClick:o,children:"edit"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Full name"}),": ",e.fullName]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Looking for a job"}),": ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]})]})},A=function(s){let{profile:e,status:t,updateStatus:i,isOwner:r,savePhoto:n,saveProfile:l}=s,[a,d]=(0,o.useState)(!1);return e?(0,c.jsx)("div",{className:b.content,children:(0,c.jsxs)("div",{className:b.descriphionBlock,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{src:e.photos.large||_,className:b.mainPhoto}),r&&(0,c.jsx)("input",{type:"file",onChange:s=>{s.target.files.length&&n(s.target.files[0])}}),a?(0,c.jsx)(I,{initialValues:e,profile:e,onSubmit:s=>{l(s).then((()=>{d(!1)}))}}):(0,c.jsx)(w,{goToEditMode:()=>{d(!0)},profile:e,isOwner:r})]}),(0,c.jsx)(k,{status:t,updateStatus:i})]})}):(0,c.jsx)(g.Z,{})};const N=function(s){return(0,c.jsxs)("div",{className:P.content,children:[(0,c.jsx)(A,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus,saveProfile:s.saveProfile}),(0,c.jsx)(v,{})]})};var D=t(7689),y=t(1548),C=t(1154);function F(s){return e=>{const t={params:(0,D.UO)()};return(0,c.jsx)(s,{...e,match:t})}}class B extends o.Component{refreshProfile(){let s=this.props.match.params.userId;s||(s=this.props.authorizedUserId),this.props.getUserProfile(s),this.props.getStatus(s)}componentDidMount(){this.refreshProfile()}componentDidUpdate(s,e,t){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}render(){return(0,c.jsx)(N,{...this.props,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})}}const M=(0,C.qC)((0,i.$j)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth})),{getUserProfile:r.et,getStatus:r.lR,updateStatus:r.Nf,savePhoto:r.Ju,saveProfile:r.Ii}),F,y.D)(B)},1548:(s,e,t)=>{t.d(e,{D:()=>l});t(2791);var o=t(7689),i=t(4420),r=t(184);let n=s=>({isAuth:s.auth.isAuth});const l=s=>(0,i.$j)(n)((e=>e.isAuth?(0,r.jsx)(s,{...e}):(0,r.jsx)(o.Fg,{to:"/login"})))}}]);
//# sourceMappingURL=0.4c48681e.chunk.js.map